{"js":"var hereDocs = [];\nvar currHereDoc = null;\n\nvar checkForHereDoc = function (s) {\n  if (s.indexOf('-----') == 0) {\n    var haveName = false, name = '';\n    \n    for (var i=0; i<s.length; i++ ) {\n      var c = s[i];\n      if (c == '-' || c == ' ') {\n        if (name.length)\n          break;\n      } else {\n        name += c;\n      } \n    }\n    if (name.length>0) {\n      currHereDoc = {name: name, lines: []};\n      hereDocs.push(currHereDoc);\n    } else {\n      currHereDoc = null;\n    }\n    return true;\n  }\n  return false; \n};\nvar val = io1.value; \n\nvar a = val.split('\\n');\nvar files = [];\nfor (var i=0; i<a.length; i++) {\n  var s = a[i];\n  if (checkForHereDoc(s)) {\n  }\n  else if (currHereDoc) {\n    currHereDoc.lines.push(s);\n  }\n  else if (s[0] == '#') {\n    files.push(s.substring(1));\n  }\n  else if (s.length == 0) {\n  }\n  else {\n    a.splice(0, i);\n    break;\n  }\n}\nlog(hereDocs);\nlog(files);\nlog(a);\n\n\n","name":"parse snippet","num":30}